import { auth } from '@/lib/auth'; import { prisma } from '@/lib/prisma'; import { moneyBRL } from '@/lib/money'; export default async function Pg(){ const s=await auth(); if(!s||(s as any).role!=='ADMIN') return <div className='bg-white border rounded p-4'>Acesso restrito ao admin.</div>; const list=await prisma.service.findMany({ orderBy:{ id:'asc' } }); return (<div className='bg-white border rounded p-4'><h1 className='text-xl font-semibold mb-4'>Servicos (demo)</h1><table className='w-full text-sm'><thead><tr className='text-left border-b'><th className='py-2'>#</th><th>Nome</th><th>Duracao</th><th>Preco</th><th>Buffer</th><th>Ativo</th></tr></thead><tbody>{list.map(s=>(<tr key={s.id} className='border-b'><td className='py-2'>{s.id}</td><td>{s.name}</td><td>{s.durationMin} min</td><td>{moneyBRL(s.priceCents)}</td><td>{s.bufferMin} min</td><td>{s.active?'Sim':'Nao'}</td></tr>))}</tbody></table></div>); }